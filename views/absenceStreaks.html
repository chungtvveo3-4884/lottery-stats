<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <a href="/" class="btn btn-outline-secondary mb-4">❮ Quay lại Trang chủ</a>
        <h1 class="text-center mb-4"><%= title %></h1>
        <p class="text-center text-muted">Thống kê chuỗi ngày không xuất hiện dài nhất của các số trong tất cả các giải (Lô).</p>

        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover text-center">
                <thead class="table-dark">
                    <tr>
                        <th class="align-middle">Số</th>
                        <th class="align-middle">Dài nhất (Kỷ lục)</th>
                        <th class="align-middle">Dài nhì</th>
                        <th class="align-middle">Dài ba</th>
                        <th class="align-middle">Chuỗi hiện tại (>= 3 ngày)</th>
                    </tr>
                </thead>
                <tbody>
                    <% data.forEach(item => { %>
                        <tr>
                            <td class="align-middle"><span class="badge bg-primary fs-5"><%= item.number %></span></td>
                            <td>
                                <% if(item.longest.length > 0) { %>
                                    <strong><%= item.longest.length %> ngày</strong>
                                    <br>
                                    <small class="text-muted"><%= formatDate(item.longest.startDate) %> - <%= formatDate(item.longest.endDate) %></small>
                                <% } else { %>
                                    -
                                <% } %>
                            </td>
                            <td>
                                <% if(item.secondLongest.length > 0) { %>
                                    <strong><%= item.secondLongest.length %> ngày</strong>
                                    <br>
                                    <small class="text-muted"><%= formatDate(item.secondLongest.startDate) %> - <%= formatDate(item.secondLongest.endDate) %></small>
                                <% } else { %>
                                    -
                                <% } %>
                            </td>
                            <td>
                                <% if(item.thirdLongest.length > 0) { %>
                                    <strong><%= item.thirdLongest.length %> ngày</strong>
                                    <br>
                                    <small class="text-muted"><%= formatDate(item.thirdLongest.startDate) %> - <%= formatDate(item.thirdLongest.endDate) %></small>
                                <% } else { %>
                                    -
                                <% } %>
                            </td>
                            <td class="align-middle">
                                <% if(item.currentStreak > 0) { %>
                                    <span class="badge bg-danger fs-6"><%= item.currentStreak %> ngày</span>
                                <% } else { %>
                                    -
                                <% } %>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
