<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thống Kê Xổ Số (Giao diện Tailwind)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f7fafc;
            font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        .highlight {
            background-color: #92d7ff;
            color: #fe7155;
            font-weight: 800;
            border-radius: 6px;
        }
    </style>
</head>

<body class="antialiased">
    <div class="container mx-auto max-w-7xl px-4 py-8">
        <header class="bg-white shadow-md sticky top-0 z-10">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center py-4">
                    <a href="/" class="text-2xl font-bold text-gray-800">XSMB Thống Kê</a>
                    <nav class="hidden md:flex space-x-4">
                        <a href="/statistics"
                            class="bg-blue-100 text-blue-600 px-3 py-2 rounded-md text-sm font-semibold">Thống kê</a>
                        <a href="/scoring"
                            class="text-gray-600 hover:text-blue-500 px-3 py-2 rounded-md text-sm font-medium">Tính
                            điểm</a>
                        <a href="/simulation"
                            class="text-gray-600 hover:text-blue-500 px-3 py-2 rounded-md text-sm font-medium">Mô
                            phỏng</a>
                        <a href="/settings"
                            class="text-gray-600 hover:text-blue-500 px-3 py-2 rounded-md text-sm font-medium">⚙️ Cài
                            đặt</a>
                    </nav>
                </div>
            </div>
        </header>

        <div class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6 rounded-md shadow" role="alert">
            <div class="flex justify-between items-center flex-wrap gap-4">
                <p id="dataUpdateNote">Dữ liệu được cập nhật từ 1/10/2005 đến ngày <span id="lastUpdateDate"
                        class="font-semibold">...</span></p>
                <button id="updateDataButton"
                    class="bg-yellow-500 text-white font-bold py-2 px-4 rounded hover:bg-yellow-600 transition duration-150 flex items-center">
                    <i class="bi bi-arrow-clockwise mr-2"></i>Cập nhật dữ liệu
                </button>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <form id="statsForm">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6">
                    <div class="lg:col-span-4">
                        <label for="statsType" class="block text-sm font-medium text-gray-700">Loại thống kê:</label>
                        <select id="statsType" name="statsType"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></select>
                    </div>
                    <div class="lg:col-span-2">
                        <label for="minLength" class="block text-sm font-medium text-gray-700">Số ngày:</label>
                        <select id="minLength"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"></select>
                    </div>
                    <div class="lg:col-span-3">
                        <label for="startDate" class="block text-sm font-medium text-gray-700">Từ ngày:</label>
                        <input type="date" id="startDate" name="startDate"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                    </div>
                    <div class="lg:col-span-3">
                        <label for="endDate" class="block text-sm font-medium text-gray-700">Đến ngày:</label>
                        <input type="date" id="endDate" name="endDate"
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm">
                    </div>
                </div>
                <div class="mt-6">
                    <button type="submit"
                        class="w-full bg-indigo-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out">
                        Thống Kê
                    </button>
                </div>
            </form>
        </div>

        <div x-data="{ open: true }" class="bg-white rounded-lg shadow-md mb-8">
            <div @click="open = !open" class="flex justify-between items-center p-4 cursor-pointer">
                <h3 id="result-title" class="text-xl font-semibold text-gray-800 flex items-center">
                    <i class="bi bi-search me-2"></i>Kết Quả Truy Vấn
                </h3>
                <i class="bi" :class="open ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
            </div>
            <div x-show="open" x-transition class="accordion-content-highlight" :class="{ 'expanded': open }">
                <div class="border-t border-gray-200 p-6">
                    <div id="result-table-container">
                        <p class="text-gray-500">Vui lòng chọn loại thống kê và nhấn nút "Thống Kê" để xem kết quả.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="suggestions-section" x-data="{ open: true }" class="bg-white rounded-lg shadow-md mb-8"
            style="display: none;">
            <div @click="open = !open" class="flex justify-between items-center p-4 cursor-pointer">
                <h3 class="text-xl font-semibold text-gray-800 flex items-center">
                    <i class="bi bi-lightbulb-fill text-yellow-500 me-2"></i> Gợi Ý Loại Trừ
                </h3>
                <i class="bi" :class="open ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
            </div>
            <div x-show="open" x-transition class="accordion-content-highlight" :class="{ 'expanded': open }">
                <div class="border-t border-gray-200 p-6">
                    <div id="suggestions-container"></div>
                </div>
            </div>
        </div>

        <div id="current-streaks-section" x-data="{ open: true }" class="bg-white rounded-lg shadow-md mb-8 d-none">
            <div @click="open = !open" class="flex justify-between items-center p-4 cursor-pointer">
                <h3 class="text-xl font-semibold text-gray-800 flex items-center">
                    <i class="bi bi-fire text-red-500 me-2"></i>
                    <span id="current-streaks-title">Chuỗi Đang Diễn Ra</span>
                </h3>
                <i class="bi" :class="open ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
            </div>
            <div x-show="open" x-transition class="accordion-content-highlight" :class="{ 'expanded': open }">
                <div class="border-t border-gray-200 p-6">
                    <div id="current-streaks-container"></div>
                </div>
            </div>
        </div>

        <div x-data="{ open: true }" class="bg-white rounded-lg shadow-md">
            <div @click="open = !open" class="flex justify-between items-center p-4 cursor-pointer">
                <h3 class="text-xl font-semibold text-gray-800 flex items-center">
                    <i class="bi bi-trophy-fill text-yellow-500 me-2"></i> Thống Kê Kỷ Lục
                </h3>
                <i class="bi" :class="open ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
            </div>
            <div x-show="open" x-transition class="accordion-content-highlight" :class="{ 'expanded': open }">
                <div class="border-t border-gray-200">
                    <div id="quick-stats-container" class="divide-y divide-gray-200">
                        <div class="text-center p-8">
                            <div role="status"
                                class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-indigo-600 motion-reduce:animate-[spin_1.5s_linear_infinite]">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="/js/app-config.js"></script>
    <script src="/js/stats-config.js"></script>
    <script src="/js/statistics.js"></script>
    <script src="/js/suggestions.js"></script>
</body>

</html>